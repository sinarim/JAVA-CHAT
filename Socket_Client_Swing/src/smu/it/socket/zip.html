<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>우편번호 검색</title>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body style="margin:0; padding:0; width:100%; height:100%;">
    <div id="postcode" style="width:100%; height:100%;"></div>

<input type="hidden" id="hiddenZonecode">
<input type="hidden" id="hiddenAddress">

<script>
function execDaumPostcode() {
    new daum.Postcode({
        oncomplete: function(data) {
            var addr = data.userSelectedType === 'R' ? data.roadAddress : data.jibunAddress;

            // hidden input에 저장
            document.getElementById('hiddenZonecode').value = data.zonecode;
            document.getElementById('hiddenAddress').value = addr;

            // JavaConnector 바로 호출
            if(window.javaConnector){
                javaConnector.setZipcodeAndAddress(data.zonecode, addr);
                javaConnector.log("선택됨: " + data.zonecode + ", " + addr);
            }
        }
    }).embed(document.getElementById('postcode'));
}
window.onload = execDaumPostcode;
</script>


</body>
</html>
